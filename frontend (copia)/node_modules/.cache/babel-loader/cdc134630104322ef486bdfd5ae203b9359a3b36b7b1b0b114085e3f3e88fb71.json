{"ast":null,"code":"/* Funciones auxiliares para manejar usuarios */\n\nimport axios from \"axios\";\nimport { useExerciseNavigation } from \"../hooks/useNavigation\";\nconst serverRoot = process.env.REACT_APP_BACKEND_URL;\n\n/* f de loging de usuario a traves de formulario q reciba email y password*/\nexport const logUser = async e => {\n  try {\n    e.preventDefault();\n    // recibir datos del evento del formulario\n    const email = e.target.email.value;\n    const password = e.target.password.value;\n    // llamar a server con datos del login y recibir token\n    const userToken = await postLogin({\n      email,\n      password\n    });\n    console.log(`userToken: ${userToken}`);\n    // meter token en localstorage\n    localStorage.setItem('userToken', JSON.stringify(userToken));\n    // WIP enviar a vista de exercises si login ok\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n/* f de llamada post de login */\nexport const postLogin = async _ref => {\n  let {\n    email,\n    password\n  } = _ref;\n  try {\n    const data = await axios.post(`${serverRoot}/login`, {\n      email: email,\n      password: password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n\n    // devovler token como string\n    return data.data.data.userToken;\n  } catch (e) {\n    console.error(e);\n    alert(`catch-${e.response.data.status}: ${e.response.data.message}`);\n  }\n};","map":{"version":3,"names":["axios","useExerciseNavigation","serverRoot","process","env","REACT_APP_BACKEND_URL","logUser","e","preventDefault","email","target","value","password","userToken","postLogin","console","log","localStorage","setItem","JSON","stringify","error","data","post","headers","alert","response","status","message"],"sources":["/home/gonzalo/estudios/HAB-bootcamp/proyectos/proyecto-03-mi-borrador/frontend/src/services/user.js"],"sourcesContent":["/* Funciones auxiliares para manejar usuarios */\n\nimport axios from \"axios\";\nimport { useExerciseNavigation } from \"../hooks/useNavigation\";\n\nconst serverRoot = process.env.REACT_APP_BACKEND_URL;\n\n/* f de loging de usuario a traves de formulario q reciba email y password*/\nexport const logUser = async (e) => {\n  try {\n    e.preventDefault();\n// recibir datos del evento del formulario\n    const email = e.target.email.value;\n    const password = e.target.password.value;\n    // llamar a server con datos del login y recibir token\n    const userToken = await postLogin({ email, password });\n    console.log(`userToken: ${userToken}`);\n    // meter token en localstorage\n        localStorage.setItem('userToken', JSON.stringify(userToken))\n    // WIP enviar a vista de exercises si login ok\n\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n/* f de llamada post de login */\nexport const postLogin = async ({ email, password }) => {\n  try {\n    const data = await axios.post(\n      `${serverRoot}/login`,\n      {\n        email: email,\n        password: password,\n      },\n      {\n        headers: { \"Content-Type\": \"application/json\" },\n      }\n    );\n\n    // devovler token como string\n    return data.data.data.userToken;\n  } catch (e) {\n    console.error(e);\n    alert(`catch-${e.response.data.status}: ${e.response.data.message}`);\n  }\n};\n"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,qBAAqB,QAAQ,wBAAwB;AAE9D,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB;;AAEpD;AACA,OAAO,MAAMC,OAAO,GAAG,MAAOC,CAAC,IAAK;EAClC,IAAI;IACFA,CAAC,CAACC,cAAc,EAAE;IACtB;IACI,MAAMC,KAAK,GAAGF,CAAC,CAACG,MAAM,CAACD,KAAK,CAACE,KAAK;IAClC,MAAMC,QAAQ,GAAGL,CAAC,CAACG,MAAM,CAACE,QAAQ,CAACD,KAAK;IACxC;IACA,MAAME,SAAS,GAAG,MAAMC,SAAS,CAAC;MAAEL,KAAK;MAAEG;IAAS,CAAC,CAAC;IACtDG,OAAO,CAACC,GAAG,CAAE,cAAaH,SAAU,EAAC,CAAC;IACtC;IACII,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACP,SAAS,CAAC,CAAC;IAChE;EAEF,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdN,OAAO,CAACM,KAAK,CAACA,KAAK,CAAC;EACtB;AACF,CAAC;;AAED;AACA,OAAO,MAAMP,SAAS,GAAG,cAA+B;EAAA,IAAxB;IAAEL,KAAK;IAAEG;EAAS,CAAC;EACjD,IAAI;IACF,MAAMU,IAAI,GAAG,MAAMtB,KAAK,CAACuB,IAAI,CAC1B,GAAErB,UAAW,QAAO,EACrB;MACEO,KAAK,EAAEA,KAAK;MACZG,QAAQ,EAAEA;IACZ,CAAC,EACD;MACEY,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB;IAChD,CAAC,CACF;;IAED;IACA,OAAOF,IAAI,CAACA,IAAI,CAACA,IAAI,CAACT,SAAS;EACjC,CAAC,CAAC,OAAON,CAAC,EAAE;IACVQ,OAAO,CAACM,KAAK,CAACd,CAAC,CAAC;IAChBkB,KAAK,CAAE,SAAQlB,CAAC,CAACmB,QAAQ,CAACJ,IAAI,CAACK,MAAO,KAAIpB,CAAC,CAACmB,QAAQ,CAACJ,IAAI,CAACM,OAAQ,EAAC,CAAC;EACtE;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}