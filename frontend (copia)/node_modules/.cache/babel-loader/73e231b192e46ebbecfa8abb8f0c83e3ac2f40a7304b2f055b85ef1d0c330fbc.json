{"ast":null,"code":"var _jsxFileName = \"/home/gonzalo/estudios/HAB-bootcamp/proyectos/proyecto-03-mi-borrador/frontend/src/views/ExercisesPage/index.js\",\n  _s = $RefreshSig$();\n/* VISTA de listado completo de ejercicios */\n\nimport \"./index.css\";\nimport { useState, useEffect, useContext } from \"react\";\nimport { useViewNavigation } from \"../../hooks/useViewNavigation\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport { getExercisesService } from \"../../services/exercises\";\nimport { ExerciseCard } from \"../../components/ExerciseCard\";\nimport { ButtonGeneric } from \"../../components/ButtonGeneric\";\nimport { TextBanner } from \"../../components/TextBanner\";\nimport { UserCard } from \"../../components/UserCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ExercisesPage = () => {\n  _s();\n  // cargar contexto autenticacion\n  const {\n    token,\n    currentUser\n  } = useContext(AuthContext);\n\n  // f estado de \"exercises\"; para setear los exercises recuperados y a mostrar\n  const [exercises, setExercises] = useState([]);\n\n  // f estado de \"exercises\"; para setear los filtros a usar para mostrar exercises\n  const [filter, setFilter] = useState(\"\");\n\n  // efecto obtener \"exercises\" del servidor\n  // // funcion: getData; llamar al server y actualizar estado de \"exercises\"; al estar dentro de useEffect hay q hacerlo con un callback por sen asincrono\n  // // variables de escucha: []; cada vez q se arrance el elemento\n  useEffect(() => {\n    const getData = async () => {\n      // recuperar exercises del server\n      const recoveredExercises = await getExercisesService(token);\n\n      // f para filtrar exercises; devolver cq exercise q contenga (en su nombre/tipologia/musculo) lo escrito por el usuario en el formulario\n      function myFiltering(ex, filter) {\n        if (ex.name.toLowerCase().includes(filter)) {\n          return ex;\n        }\n        if (ex.typology.toLowerCase().includes(filter)) {\n          return ex;\n        }\n        if (ex.muscles.toLowerCase().includes(filter)) {\n          return ex;\n        }\n      }\n\n      // aplicar filtrado\n      const filteredExercises = recoveredExercises.filter(ex => myFiltering(ex, filter));\n\n      // setear exercises al resultado del filtro\n      setExercises(filteredExercises);\n    };\n    getData();\n  }, [filter]);\n\n  // invocar hook de navegacion entre vistas\n  const {\n    toExercisesPage,\n    toExerciseDetailPage,\n    toAnonUserPage\n  } = useViewNavigation();\n\n  // devolver una card por cada exercise del server\n  return !currentUser ? toAnonUserPage() : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(UserCard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"exercisesList\",\n      children: [/*#__PURE__*/_jsxDEV(TextBanner, {\n        text: \"Todos los Ejercicios Disponibles\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"filters\",\n        onSubmit: e => {\n          e.preventDefault();\n          console.log(`form submit sets filtersURL to: ${filter}`);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"filterName\",\n              name: \"name\",\n              placeholder: \"Busca por nombre, tipolog\\xEDa o m\\xFAsculo\",\n              value: filter,\n              onChange: e => setFilter(e.target.value.toLowerCase())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ButtonGeneric, {\n          type: \"submit\",\n          text: \"Filtrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ButtonGeneric, {\n          type: \"button\",\n          text: \"Volver\",\n          onClickFunction: () => toExercisesPage()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this), filter !== \"\" ? /*#__PURE__*/_jsxDEV(TextBanner, {\n        text: \"Resultados del filtrado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this) : \"\", exercises.map(ex => {\n        return /*#__PURE__*/_jsxDEV(ExerciseCard, {\n          name: ex.name,\n          picture: ex.picture,\n          typology: ex.typology,\n          muscles: ex.muscles,\n          onClickCard: () => toExerciseDetailPage(ex.idExercise)\n        }, ex.idExercise, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n_s(ExercisesPage, \"EyxL7BJgsCg03T9/gyxmeXg4y4o=\", false, function () {\n  return [useViewNavigation];\n});\n_c = ExercisesPage;\nvar _c;\n$RefreshReg$(_c, \"ExercisesPage\");","map":{"version":3,"names":["useState","useEffect","useContext","useViewNavigation","AuthContext","getExercisesService","ExerciseCard","ButtonGeneric","TextBanner","UserCard","ExercisesPage","token","currentUser","exercises","setExercises","filter","setFilter","getData","recoveredExercises","myFiltering","ex","name","toLowerCase","includes","typology","muscles","filteredExercises","toExercisesPage","toExerciseDetailPage","toAnonUserPage","e","preventDefault","console","log","target","value","map","picture","idExercise"],"sources":["/home/gonzalo/estudios/HAB-bootcamp/proyectos/proyecto-03-mi-borrador/frontend/src/views/ExercisesPage/index.js"],"sourcesContent":["/* VISTA de listado completo de ejercicios */\n\nimport \"./index.css\";\n\nimport { useState, useEffect, useContext } from \"react\";\nimport { useViewNavigation } from \"../../hooks/useViewNavigation\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\n\nimport { getExercisesService } from \"../../services/exercises\";\nimport { ExerciseCard } from \"../../components/ExerciseCard\";\nimport { ButtonGeneric } from \"../../components/ButtonGeneric\";\nimport { TextBanner } from \"../../components/TextBanner\";\nimport {UserCard} from \"../../components/UserCard\"\n\nexport const ExercisesPage = () => {\n  // cargar contexto autenticacion\n  const {token, currentUser} = useContext(AuthContext);\n\n  // f estado de \"exercises\"; para setear los exercises recuperados y a mostrar\n  const [exercises, setExercises] = useState([]);\n\n  // f estado de \"exercises\"; para setear los filtros a usar para mostrar exercises\n  const [filter, setFilter] = useState(\"\");\n\n  // efecto obtener \"exercises\" del servidor\n  // // funcion: getData; llamar al server y actualizar estado de \"exercises\"; al estar dentro de useEffect hay q hacerlo con un callback por sen asincrono\n  // // variables de escucha: []; cada vez q se arrance el elemento\n  useEffect(() => {\n    const getData = async () => {\n      // recuperar exercises del server\n      const recoveredExercises = await getExercisesService(token);\n\n      // f para filtrar exercises; devolver cq exercise q contenga (en su nombre/tipologia/musculo) lo escrito por el usuario en el formulario\n      function myFiltering(ex, filter) {\n        if (ex.name.toLowerCase().includes(filter)) {\n          return ex;\n        }\n        if (ex.typology.toLowerCase().includes(filter)) {\n          return ex;\n        }\n        if (ex.muscles.toLowerCase().includes(filter)) {\n          return ex;\n        }\n      }\n\n      // aplicar filtrado\n      const filteredExercises = recoveredExercises.filter((ex) =>\n        myFiltering(ex, filter)\n      );\n\n      // setear exercises al resultado del filtro\n      setExercises(filteredExercises);\n    };\n    getData();\n  }, [filter]);\n\n  // invocar hook de navegacion entre vistas\n  const { toExercisesPage, toExerciseDetailPage, toAnonUserPage } = useViewNavigation();\n\n  // devolver una card por cada exercise del server\n  return  !currentUser ? toAnonUserPage() :(\n    <>\n    <UserCard></UserCard>\n    <article className=\"exercisesList\">\n      <TextBanner text={\"Todos los Ejercicios Disponibles\"}></TextBanner>\n\n      <form\n        id=\"filters\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          console.log(`form submit sets filtersURL to: ${filter}`);\n        }}\n      >\n        <ul>\n          <li>\n            <input\n              id=\"filterName\"\n              name=\"name\"\n              placeholder=\"Busca por nombre, tipología o músculo\"\n              value={filter}\n              onChange={(e) => setFilter(e.target.value.toLowerCase())}\n            ></input>\n          </li>\n        </ul>\n\n        <ButtonGeneric type=\"submit\" text=\"Filtrar\"></ButtonGeneric>\n\n        <ButtonGeneric\n          type=\"button\"\n          text=\"Volver\"\n          onClickFunction={() => toExercisesPage()}\n        ></ButtonGeneric>\n      </form>\n\n      {filter !== \"\" ? (\n        <TextBanner text=\"Resultados del filtrado\"></TextBanner>\n      ) : (\n        \"\"\n      )}\n\n      {exercises.map((ex) => {\n        return (\n          <ExerciseCard\n            key={ex.idExercise}\n            name={ex.name}\n            picture={ex.picture}\n            typology={ex.typology}\n            muscles={ex.muscles}\n            onClickCard={() => toExerciseDetailPage(ex.idExercise)}\n          ></ExerciseCard>\n        );\n      })}\n    </article>\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}