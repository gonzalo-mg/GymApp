{"ast":null,"code":"/* Funciones auxiliares para manejar los ejercicios */\n\nimport axios from \"axios\";\nconst serverRoot = process.env.REACT_APP_BACKEND_URL;\n\n/* f para recuperar todos los ejercicios del server */\n\nexport const getExercises = async () => {\n  try {\n    console.log(`calling getExercises`);\n    const response = await axios.get(`${serverRoot}/exercises`);\n\n    // desestructurar respuesta ; axios incluye varias anidaciones de objetos, por defecto uno llamada \"data\"; el backend tmb devuelve un {data};\n    const {\n      data\n    } = response;\n    const {\n      data: serverData\n    } = data;\n    const {\n      exercises\n    } = serverData;\n\n    // devolver array de objetos tipo ejercicio\n    return exercises;\n  } catch (e) {\n    console.error(e);\n    console.log(e.response.data);\n    return alert(`${e.response.data.status}: ${e.response.data.message}`);\n  }\n};\n\n// version con fetch\n/*   export const getExercises= async () => {\n    try {\n      const response = await fetch(`${serverRoot}/exercises`);\n\n      const parsedResponse = await response.json()\n\n      console.log(parsedResponse.data.exercises)\n\n      return parsedResponse.data.exercises;\n    }\n    catch (error) {\n      console.error(error);\n    }\n  }; */\n\n/* f para recuperar un ejercicio particular del server mediante path param */\n\nexport const getExerciseById = async id => {\n  try {\n    const response = await axios.get(`${serverRoot}/exercises/${id}`);\n\n    // desestructurar respuesta ; axios incluye varias anidaciones de objetos, por defecto uno llamada \"data\"; el backend tmb devuelve un {data};\n    const {\n      data\n    } = response;\n    const {\n      data: exercise\n    } = data;\n\n    // devolver objeto tipo ejercicio\n    return exercise;\n  } catch (e) {\n    console.error(e);\n    console.log(e.response.data);\n    alert(`${e.response.data.status}: ${e.response.data.message}`);\n    //return \n  }\n};\n\n/* f para grabar nuevo ejercicio en server */\n\nexport const postNewExercise = async _ref => {\n  let {\n    name,\n    typology,\n    description,\n    muscles,\n    picture\n  } = _ref;\n  try {\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"typology\", typology);\n    formData.append(\"description\", description);\n    formData.append(\"muscles\", muscles);\n    formData.append(\"picture\", picture);\n    await axios.post(`${serverRoot}/newExercise`, formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n  } catch (e) {\n    console.error(e.message);\n    console.log(e.response.data);\n    return alert(`${e.response.data.status}: ${e.response.data.message}`);\n  }\n};","map":{"version":3,"names":["axios","serverRoot","process","env","REACT_APP_BACKEND_URL","getExercises","console","log","response","get","data","serverData","exercises","e","error","alert","status","message","getExerciseById","id","exercise","postNewExercise","name","typology","description","muscles","picture","formData","FormData","append","post","headers"],"sources":["/home/gonzalo/estudios/HAB-bootcamp/proyectos/proyecto-03-mi-borrador/frontend/src/services/exercises.js"],"sourcesContent":["/* Funciones auxiliares para manejar los ejercicios */\n\nimport axios from \"axios\";\n\nconst serverRoot = process.env.REACT_APP_BACKEND_URL;\n\n/* f para recuperar todos los ejercicios del server */\n\nexport const getExercises = async () => {\n  try {\n    console.log(`calling getExercises`);\n    const response = await axios.get(`${serverRoot}/exercises`);\n\n    // desestructurar respuesta ; axios incluye varias anidaciones de objetos, por defecto uno llamada \"data\"; el backend tmb devuelve un {data};\n    const { data } = response;\n    const { data: serverData } = data;\n    const { exercises } = serverData;\n\n    // devolver array de objetos tipo ejercicio\n    return exercises;\n  } catch (e) {\n    console.error(e);\n    console.log(e.response.data);\n    return alert(`${e.response.data.status}: ${e.response.data.message}`)\n  }\n};\n\n// version con fetch\n/*   export const getExercises= async () => {\n    try {\n      const response = await fetch(`${serverRoot}/exercises`);\n\n      const parsedResponse = await response.json()\n\n      console.log(parsedResponse.data.exercises)\n\n      return parsedResponse.data.exercises;\n    }\n    catch (error) {\n      console.error(error);\n    }\n  }; */\n\n/* f para recuperar un ejercicio particular del server mediante path param */\n\nexport const getExerciseById = async (id) => {\n  try {\n    const response = await axios.get(`${serverRoot}/exercises/${id}`);\n\n    // desestructurar respuesta ; axios incluye varias anidaciones de objetos, por defecto uno llamada \"data\"; el backend tmb devuelve un {data};\n    const { data } = response;\n    const { data: exercise } = data;\n\n    // devolver objeto tipo ejercicio\n    return exercise;\n  } catch (e) {\n    console.error(e);\n    console.log(e.response.data);\n    alert(`${e.response.data.status}: ${e.response.data.message}`)\n    //return \n  }\n};\n\n/* f para grabar nuevo ejercicio en server */\n\nexport const postNewExercise = async ({\n  name,\n  typology,\n  description,\n  muscles,\n  picture,\n}) => {\n  try {\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"typology\", typology);\n    formData.append(\"description\", description);\n    formData.append(\"muscles\", muscles);\n    formData.append(\"picture\", picture);\n\n    await axios.post(`${serverRoot}/newExercise`, formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    });\n  } catch (e) {\n    console.error(e.message);\n    console.log(e.response.data);\n    return alert(`${e.response.data.status}: ${e.response.data.message}`)\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}