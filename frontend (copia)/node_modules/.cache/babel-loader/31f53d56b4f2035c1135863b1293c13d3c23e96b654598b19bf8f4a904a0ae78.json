{"ast":null,"code":"/* Funciones auxiliares para manejar gestiones sobre usuarios con la bbdd*/\n\nimport axios from \"axios\";\n//import { useExerciseNavigation } from \"../hooks/useNavigation\";\n\nconst serverRoot = process.env.REACT_APP_BACKEND_URL;\n\n/* f de llamada post de login */\nexport const postLoginService = async _ref => {\n  let {\n    email,\n    password\n  } = _ref;\n  try {\n    const data = await axios.post(`${serverRoot}/login`, {\n      email: email,\n      password: password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n\n    // devolver token como string\n    return data.data.data.userToken;\n  } catch (e) {\n    // en caso de error emitir alerta con los mensajes q devuleva el servidor\n    alert(`catch-${e.response.data.status}: ${e.response.data.message}`);\n    console.error(e);\n    console.error(e.response.data.message);\n    // y lanzar el error para recoger en la f handleLogingForm\n    throw new Error(`catch-${e.response.data.status}: ${e.response.data.message}`);\n  }\n};","map":{"version":3,"names":["axios","serverRoot","process","env","REACT_APP_BACKEND_URL","postLoginService","email","password","data","post","headers","userToken","e","alert","response","status","message","console","error","Error"],"sources":["/home/gonzalo/estudios/HAB-bootcamp/proyectos/proyecto-03-mi-borrador/frontend/src/services/user.js"],"sourcesContent":["/* Funciones auxiliares para manejar gestiones sobre usuarios con la bbdd*/\n\nimport axios from \"axios\";\n//import { useExerciseNavigation } from \"../hooks/useNavigation\";\n\nconst serverRoot = process.env.REACT_APP_BACKEND_URL;\n\n/* f de llamada post de login */\nexport const postLoginService = async ({ email, password }) => {\n  try {\n    const data = await axios.post(\n      `${serverRoot}/login`,\n      {\n        email: email,\n        password: password,\n      },\n      {\n        headers: { \"Content-Type\": \"application/json\" },\n      }\n    );\n\n    // devolver token como string\n    return data.data.data.userToken;\n  } catch (e) {\n    // en caso de error emitir alerta con los mensajes q devuleva el servidor\n    alert(`catch-${e.response.data.status}: ${e.response.data.message}`);\n    console.error(e);\n    console.error(e.response.data.message);\n    // y lanzar el error para recoger en la f handleLogingForm\n    throw new Error(\n      `catch-${e.response.data.status}: ${e.response.data.message}`\n    );\n  }\n};\n"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB;;AAEA,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB;;AAEpD;AACA,OAAO,MAAMC,gBAAgB,GAAG,cAA+B;EAAA,IAAxB;IAAEC,KAAK;IAAEC;EAAS,CAAC;EACxD,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMR,KAAK,CAACS,IAAI,CAC1B,GAAER,UAAW,QAAO,EACrB;MACEK,KAAK,EAAEA,KAAK;MACZC,QAAQ,EAAEA;IACZ,CAAC,EACD;MACEG,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB;IAChD,CAAC,CACF;;IAED;IACA,OAAOF,IAAI,CAACA,IAAI,CAACA,IAAI,CAACG,SAAS;EACjC,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV;IACAC,KAAK,CAAE,SAAQD,CAAC,CAACE,QAAQ,CAACN,IAAI,CAACO,MAAO,KAAIH,CAAC,CAACE,QAAQ,CAACN,IAAI,CAACQ,OAAQ,EAAC,CAAC;IACpEC,OAAO,CAACC,KAAK,CAACN,CAAC,CAAC;IAChBK,OAAO,CAACC,KAAK,CAACN,CAAC,CAACE,QAAQ,CAACN,IAAI,CAACQ,OAAO,CAAC;IACtC;IACA,MAAM,IAAIG,KAAK,CACZ,SAAQP,CAAC,CAACE,QAAQ,CAACN,IAAI,CAACO,MAAO,KAAIH,CAAC,CAACE,QAAQ,CAACN,IAAI,CAACQ,OAAQ,EAAC,CAC9D;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}